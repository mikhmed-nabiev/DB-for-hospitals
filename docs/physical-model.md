# Физическая модель

---
БД имеет 3НФ, так как во нескольких таблицах нужно было разделить транзитивность на отдельные отношения. Таблицами с 
версионированием является `doctor`. Каждый врач может подниматься или опускаться по должности. 

Таблица `med_department`:

| Название        | Описание                       | Тип данных     | Ограничение |
|-----------------|--------------------------------|----------------|-------------|
| `dept_id`       | Идентификатор                  | `INTEGER`      | PRIMARY KEY |
| `type`          | Тип отдела (взрослый, детский) | `VARCHAR(200)` | NOT NULL    |
| `address`       | Адрес отдела                   | `VARCHAR(200)` | NOT NULL    |

Таблица `doctor`:

| Название     | Описание             | Тип данных     | Ограничение |
|--------------|----------------------|----------------|-------------|
| `doc_id`     | Идентификатор        | `INTEGER`      | PRIMARY KEY |
| `surname`    | Фамилия              | `VARCHAR(200)` | NOT NULL    |
| `name`       | Имя                  | `VARCHAR(200)` | NOT NULL    |
| `mid_name`   | Отчество             | `VARCHAR(200)` | NOT NULL    |
| `speciality` | Специальность врача  | `VARCHAR(200)` | NOT NULL    |
| `prev_pos`   | Предыдущая должность | `VARCHAR(200)` | --          |
| `cur_pos`    | Текущая должность    | `VARCHAR(200)` | NOT NULL    | 

Таблица `appointment_queue`:

| Название            | Описание                     | Тип данных  | Ограничение |
|---------------------|------------------------------|-------------|-------------|
| `doc_id`            | Идентификатор врача          | `INTEGER`   | FOREIGN KEY |
| `patient_id`        | Идентификатор пациента       | `INTEGER`   | FOREIGN KEY |
| `appoointment_date` | Дата проведения обследования | `TIMESTAMP` | PRIMARY KEY |

Таблица `patient`:

| Название      | Описание               | Тип данных     | Ограничение |
|---------------|------------------------|----------------|-------------|
| `patient_id`  | Идентификатор пациента | `INTEGER`      | PRIMARY KEY |
| `surname`     | Фамилия                | `VARCHAR(200)` | NOT NULL    |
| `name`        | Имя                    | `VARCHAR(200)` | NOT NULL    |
| `mid_name`    | Отчество               | `VARCHAR(200)` | NOT NULL    |
| `gender`      | Пол                    | `VARCHAR(200)` | NOT NULL    |
| `age`         | Возраст                | `INTEGER`      | NOT NULL    |
| `phone_num`   | Номер телефона         | `VARCHAR(200)` | NOT NULL    |
| `rec_id`      | Номер отчета           | `INTEGER`      | FOREIGN KEY |

 Таблица `med_record`:

| Название      | Описание               | Тип данных     | Ограничение |
|---------------|------------------------|----------------|-------------|
| `rec_id`      | Идентификатор отчета   | `INTEGER`      | PRIMARY KEY |
| `drugs`       | Лекарства              | `VARCHAR(200)` | NOT NULL    |
| `diagnosis`   | Диагноз                | `VARCHAR(200)` | NOT NULL    |
| `last_update` | Последнее обследование | `TIMESTAMP`    | NOT NULL    |

Таблица `staying_patient`:

| Название     | Описание               | Тип данных     | Ограничение |
|--------------|------------------------|----------------|-------------|
| `room_id`    | Идентификатор палаты   | `INTEGER`      | FOREIGN KEY |
| `patient_id` | Идентификатор пациента | `INTEGER`      | FOREIGN KEY |

Таблица `room`:

| Название     | Описание                           | Тип данных     | Ограничение |
|--------------|------------------------------------|----------------|-------------|
| `room_id`    | Идентификатор палаты               | `INTEGER`      | PRIMARY KEY |
| `max_number` | Кол-во всех мест (всех)            | `VARCHAR(200)` | NOT NULL    |
| `available`  | Наличие хоть одного места в палате | `BOOLEAN`      | NOT NULL    |

Таблица `room_in_dept`:

| Название  | Описание             | Тип данных     | Ограничение |
|-----------|----------------------|----------------|-------------|
| `dept_id` | Идентификатор отдела | `INTEGER`      | FOREIGN KEY |
| `room_id` | Идентификатор палаты | `INTEGER`      | FOREIGN KEY |

---
